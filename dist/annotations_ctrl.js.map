{"version":3,"sources":["../src/annotations_ctrl.js"],"names":["CheckmkAnnotationsQueryCtrl","target","site","host","service","annotation","queries","datasource","sitesQuery","hostsQuery","servicesQuery","update","templateUrl"],"mappings":";;;;;;;;;;IAAaA,2B,WAAAA,2B;AACT,2CAAY,yBAA2B;AAAA;;AACnC,aAAKC,MAAL,GAAc,KAAKA,MAAL,IAAe,EAA7B;AACA,aAAKA,MAAL,CAAYC,IAAZ,GAAmB,KAAKD,MAAL,CAAYC,IAAZ,IAAoB,EAAvC;AACA,aAAKD,MAAL,CAAYE,IAAZ,GAAmB,KAAKF,MAAL,CAAYE,IAAZ,IAAoB,EAAvC;AACA,aAAKF,MAAL,CAAYG,OAAZ,GAAsB,KAAKH,MAAL,CAAYG,OAAZ,IAAuB,EAA7C;;AAEA,aAAKC,UAAL,CAAgBC,OAAhB,GAA0B,KAAKD,UAAL,CAAgBC,OAAhB,IAA2B,EAArD;AACH;;;;uCAEc;AACX,mBAAO,IAAP;AACH;;;yCAEgB;AACb,mBAAO,KAAKC,UAAL,CAAgBC,UAAhB,CAA2B,KAAKP,MAAhC,EAAwC,IAAxC,CAAP;AACH;;;yCAEgB;AACb,mBAAO,KAAKM,UAAL,CAAgBE,UAAhB,CAA2B,KAAKR,MAAhC,CAAP;AACH;;;4CAEmB;AAChB,mBAAO,KAAKM,UAAL,CAAgBG,aAAhB,CAA8B,KAAKT,MAAnC,CAAP;AACH;;;uCAEc;AACX,iBAAKA,MAAL,CAAYE,IAAZ,GAAmB,EAAnB;AACA,iBAAKF,MAAL,CAAYG,OAAZ,GAAsB,EAAtB;AACA,iBAAKO,MAAL;AACH;;;uCAEc;AACX,iBAAKV,MAAL,CAAYG,OAAZ,GAAsB,EAAtB;AACA,iBAAKO,MAAL;AACH;;;0CAEiB;AACd,iBAAKA,MAAL;AACH;;;iCAEQ;AACL,iBAAKN,UAAL,CAAgBC,OAAhB,GAA0B,CAAC;AACvBJ,sBAAM,KAAKD,MAAL,CAAYC,IADK;AAEvBC,sBAAM,KAAKF,MAAL,CAAYE,IAFK;AAGvBC,yBAAS,KAAKH,MAAL,CAAYG;AAHE,aAAD,CAA1B;AAKH;;;;;;AAGLJ,4BAA4BY,WAA5B,GAA0C,kCAA1C","file":"annotations_ctrl.js","sourcesContent":["export class CheckmkAnnotationsQueryCtrl {\n    constructor(/*timeSrv, dashboardSrv*/) {\n        this.target = this.target || {};\n        this.target.site = this.target.site || '';\n        this.target.host = this.target.host || '';\n        this.target.service = this.target.service || '';\n\n        this.annotation.queries = this.annotation.queries || [];\n    }\n\n    getLastError() {\n        return null;\n    }\n\n    getSiteOptions() {\n        return this.datasource.sitesQuery(this.target, true);\n    }\n\n    getHostOptions() {\n        return this.datasource.hostsQuery(this.target);\n    }\n\n    getServiceOptions() {\n        return this.datasource.servicesQuery(this.target);\n    }\n\n    onSiteChange() {\n        this.target.host = '';\n        this.target.service = '';\n        this.update();\n    }\n\n    onHostChange() {\n        this.target.service = '';\n        this.update();\n    }\n\n    onServiceChange() {\n        this.update();\n    }\n\n    update() {\n        this.annotation.queries = [{\n            site: this.target.site,\n            host: this.target.host,\n            service: this.target.service\n        }];\n    }\n}\n\nCheckmkAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';"]}